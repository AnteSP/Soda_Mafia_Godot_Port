[gd_scene load_steps=34 format=4 uid="uid://ck46hd5aiskji"]

[ext_resource type="Texture2D" uid="uid://chp6s7w57sspi" path="res://sprites/tileset.png" id="1_gk4mc"]
[ext_resource type="PackedScene" uid="uid://cm8bawqhwdrt2" path="res://Prefabs/player.tscn" id="2_6ui25"]
[ext_resource type="Resource" uid="uid://bchubbvxddp4h" path="res://Prefabs/Items/PlayerInventory.tres" id="3_n2c5f"]
[ext_resource type="PackedScene" uid="uid://bnhjcdm4tneov" path="res://Prefabs/Tree.tscn" id="4_l83ky"]
[ext_resource type="Script" uid="uid://55m633i0gbmx" path="res://scripts/Talker.gd" id="5_3beet"]
[ext_resource type="Resource" uid="uid://dav4r8h5ceu5n" path="res://Dialogue/test2.dialogue" id="6_tc0jy"]
[ext_resource type="AudioStream" uid="uid://dtqxerhj7vesc" path="res://sound/TypeNoises/DefaultMaleTypeNoise.wav" id="7_utrln"]
[ext_resource type="PackedScene" uid="uid://dr1pbs47u47cm" path="res://Prefabs/Items/inv_ui.tscn" id="8_vlxol"]
[ext_resource type="Texture2D" uid="uid://cuncyo0ppoepb" path="res://sprites/UI/UI-tab-retracted-norm.png" id="9_4sjt4"]
[ext_resource type="Texture2D" uid="uid://dk3jjigaf772j" path="res://sprites/UI/UI-tab-pressed.png" id="10_iw2f0"]
[ext_resource type="Texture2D" uid="uid://coakyd2ctsosf" path="res://sprites/UI/UI-tab-retracted-hover.png" id="11_ycgla"]
[ext_resource type="Script" uid="uid://hgcrh23t12o2" path="res://scripts/UI_button.gd" id="12_1weh1"]
[ext_resource type="Texture2D" uid="uid://dgybi5uhp8jwr" path="res://sprites/UI/UI-tab-extended-norm.png" id="13_mgbok"]
[ext_resource type="Texture2D" uid="uid://bdg60733p7v82" path="res://sprites/UI/UI-tab-extended-hover.png" id="14_nguuq"]
[ext_resource type="FontFile" uid="uid://bqswrwoxq6kq4" path="res://Misc/oregon-bound.otf" id="15_5sf6f"]
[ext_resource type="AudioStream" uid="uid://bqqcys8vxtxaf" path="res://sound/Item1 Quiet.ogg" id="16_ur4j3"]
[ext_resource type="PackedScene" uid="uid://qvawp73lc564" path="res://Prefabs/Apple.tscn" id="17_vdnnh"]
[ext_resource type="Script" uid="uid://dxvgi3vhch413" path="res://scripts/Pickup.gd" id="18_16566"]
[ext_resource type="Resource" uid="uid://xda64nwy2vqv" path="res://Prefabs/Items/Apple.tres" id="19_mfpy4"]
[ext_resource type="Script" uid="uid://c26fwd1q8awsq" path="res://scripts/Talker_cs.gd" id="20_3beet"]
[ext_resource type="Texture2D" uid="uid://dteicinp1d2wk" path="res://sprites/ConkerCoola.png" id="20_n2c5f"]
[ext_resource type="Texture2D" uid="uid://3jsgh1i32syc" path="res://sprites/storedoor.png" id="21_l83ky"]
[ext_resource type="Resource" uid="uid://ccvqw6cwvy8a3" path="res://Dialogue/cs_test.dialogue" id="21_tc0jy"]
[ext_resource type="Texture2D" uid="uid://bjngloo1lko5y" path="res://sprites/storedoor_open.png" id="23_vlxol"]
[ext_resource type="PackedScene" uid="uid://btlq8t13lv4ob" path="res://Prefabs/Transition.tscn" id="24_tc0jy"]
[ext_resource type="SpriteFrames" uid="uid://bf1utegua4yo4" path="res://SpriteFrames/NPC_walk.tres" id="26_4sjt4"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_p3837"]
texture = ExtResource("1_gk4mc")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0 = 0
1:0/0/y_sort_origin = 6
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:1/0 = 0
0:1/0/y_sort_origin = -3741
1:1/0 = 0
1:1/0/y_sort_origin = 6
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, 2.54905, 16, 2.86768, 16, 16, -16, 16)
2:1/next_alternative_id = 2
2:1/0 = 0
2:1/1 = 1
2:0/next_alternative_id = 2
2:0/0 = 0
2:0/1 = 1

[sub_resource type="TileSet" id="TileSet_ktssj"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
sources/1 = SubResource("TileSetAtlasSource_p3837")

[sub_resource type="Theme" id="Theme_3rrdj"]
default_font = ExtResource("15_5sf6f")
default_font_size = 0

[sub_resource type="Animation" id="Animation_tc0jy"]
resource_name = "Ch1_Intro_KickedOut"
length = 2.52
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Intro_CS/Player Actor:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.403333, 0.903333, 1.13667, 1.48333, 2.07333),
"transitions": PackedFloat32Array(0.329877, 2.54912, 0.143587, 1.86607, 0.297302, 0.297302),
"update": 0,
"values": [Vector2(85.32, 123.695), Vector2(81.77, 108.865), Vector2(77, 156.985), Vector2(77, 150.725), Vector2(77, 164.475), Vector2(77, 168.61)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Intro_CS")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2.5),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [false],
"method": &"start_stop_CS"
}, {
"args": [true],
"method": &"start_stop_CS"
}]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Intro_CS/Player Actor/AnimatedSprite2D:animation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 2.37474),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [&"Thrown", &"Getting up"]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("TileMapLayer/Storedoor:texture")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1.76667),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [ExtResource("23_vlxol"), ExtResource("21_l83ky")]
}

[sub_resource type="Animation" id="Animation_utrln"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Intro_CS/Player Actor:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(77, 132)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Intro_CS/Player Actor/AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Thrown"]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("TileMapLayer/Storedoor:texture")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("21_l83ky")]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_utrln"]
_data = {
&"Ch1_Intro_KickedOut": SubResource("Animation_tc0jy"),
&"RESET": SubResource("Animation_utrln")
}

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_onrkg"]
radius = 2.3
height = 10.6

[node name="world" type="Node2D"]
y_sort_enabled = true

[node name="World" type="Node" parent="."]

[node name="Tree" parent="World" node_paths=PackedStringArray("type_noise") groups=["Interactable"] instance=ExtResource("4_l83ky")]
position = Vector2(168, 232)
script = ExtResource("5_3beet")
convo = "start"
resource = ExtResource("6_tc0jy")
type_noise = NodePath("../../DefaultMaleTypeNoise")

[node name="Tree2" parent="World" groups=["Interactable"] instance=ExtResource("4_l83ky")]
position = Vector2(232, 160)

[node name="Tree3" parent="World" groups=["Interactable"] instance=ExtResource("4_l83ky")]
position = Vector2(200, 168)

[node name="Apple" parent="World" groups=["Interactable"] instance=ExtResource("17_vdnnh")]
position = Vector2(96, 240)
script = ExtResource("18_16566")
item = ExtResource("19_mfpy4")
quantity = 1
inventory = ExtResource("3_n2c5f")
use_time = 0.5

[node name="Apple2" parent="World" groups=["Interactable"] instance=ExtResource("17_vdnnh")]
modulate = Color(0.368627, 0.498039, 0.282353, 1)
position = Vector2(48, 240)
script = ExtResource("18_16566")
item = ExtResource("19_mfpy4")
quantity = 1
inventory = ExtResource("3_n2c5f")
use_time = 4.0

[node name="Apple3" parent="World" instance=ExtResource("17_vdnnh")]
position = Vector2(288, 136)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAABAAMAAQAAAAAAAAAAAAMAAQAAAAAAAAD//wMAAQAAAAAAAAADAAMAAQAAAAAAAAAEAAMAAQAAAAAAAAAFAAMAAQAAAAAAAAAFAAIAAQAAAAAAAAADAAIAAQAAAAAAAAAEAAIAAQAAAAAAAAABAAIAAQAAAAAAAAAAAAIAAQAAAAAAAAD//wIAAQAAAAAAAAD//wEAAQAAAAAAAAAAAAEAAQAAAAAAAAABAAEAAQAAAAAAAAACAAEAAQAAAAAAAAADAAEAAQAAAAAAAAAEAAEAAQAAAAAAAAAFAAEAAQAAAAAAAAAFAAAAAQAAAAAAAAAEAAAAAQAAAAAAAAADAAAAAQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAD//wAAAQAAAAAAAAAAAP//AQAAAAAAAAABAP//AQAAAAAAAAACAP//AQAAAAAAAAADAP//AQAAAAAAAAAEAP//AQAAAAAAAAADAP7/AQAAAAAAAAACAP7/AQAAAAAAAAABAP7/AQAAAAAAAAD/////AQACAAAAAAAAAP7/AQACAAAAAAD///7/AQACAAEAAAAAAP3/AQACAAEAAAD///3/AQACAAEAAAAAAPz/AQACAAEAAAAEAP7/AQACAAAAARAFAP//AQACAAAAARAFAP7/AQACAAEAARAFAP3/AQACAAEAARAEAP3/AQACAAEAARAEAPz/AQACAAEAARADAP3/AQACAAEAARABAP3/AQACAAEAAQABAPz/AQACAAEAAQADAPz/AQACAAEAARACAP3/AQABAAAAAAACAPz/AQABAAAAAAACAPv/AQABAAAAAAADAPv/AQACAAEAARABAPv/AQACAAEAAQAFAPz/AQACAAEAARD///z/AQACAAEAAQD///v/AQACAAEAAQAAAPv/AQACAAEAAQAEAPv/AQACAAEAARAFAPv/AQACAAEAARACAAIAAQAAAAAAAAA=")
tile_set = SubResource("TileSet_ktssj")
rendering_quadrant_size = 32

[node name="player" parent="TileMapLayer" instance=ExtResource("2_6ui25")]
position = Vector2(80, 160)
Inventory = ExtResource("3_n2c5f")

[node name="ConkerCoola" type="Sprite2D" parent="TileMapLayer"]
z_index = 1
position = Vector2(80, 16)
texture = ExtResource("20_n2c5f")

[node name="Storedoor" type="Sprite2D" parent="TileMapLayer"]
position = Vector2(80, 106)
texture = ExtResource("21_l83ky")

[node name="DefaultMaleTypeNoise" type="AudioStreamPlayer" parent="." groups=["tnoise"]]
stream = ExtResource("7_utrln")

[node name="CS_tnoise" type="AudioStreamPlayer" parent="." groups=["tnoise"]]
stream = ExtResource("7_utrln")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="inv_ui" parent="CanvasLayer" instance=ExtResource("8_vlxol")]
visible = false

[node name="InventoryButton" type="TextureButton" parent="CanvasLayer"]
offset_left = 8.0
offset_top = 456.0
offset_right = 60.0
offset_bottom = 469.0
scale = Vector2(3, 3)
focus_mode = 0
texture_normal = ExtResource("9_4sjt4")
texture_pressed = ExtResource("10_iw2f0")
texture_hover = ExtResource("11_ycgla")
script = ExtResource("12_1weh1")
target_node = NodePath("../inv_ui")
alt_norm = ExtResource("13_mgbok")
alt_hover = ExtResource("14_nguuq")

[node name="RichTextLabel" type="RichTextLabel" parent="CanvasLayer/InventoryButton"]
layout_mode = 0
offset_left = 2.0
offset_top = 2.0
offset_right = 146.0
offset_bottom = 22.0
scale = Vector2(0.29, 0.49)
mouse_filter = 1
theme = SubResource("Theme_3rrdj")
theme_override_colors/default_color = Color(0, 0, 0, 1)
text = "Inventory"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="CanvasLayer/InventoryButton"]
stream = ExtResource("16_ur4j3")

[node name="Transition" parent="." instance=ExtResource("24_tc0jy")]
visible = false

[node name="Intro_CS" type="AnimationPlayer" parent="." node_paths=PackedStringArray("disable_on_start", "CS_tnoise", "transition")]
libraries = {
&"": SubResource("AnimationLibrary_utrln")
}
script = ExtResource("20_3beet")
convo = "cs1"
resource = ExtResource("21_tc0jy")
disable_on_start = [NodePath("../TileMapLayer/player")]
CS_tnoise = NodePath("../CS_tnoise")
transition = NodePath("../Transition")

[node name="Player Actor" type="CharacterBody2D" parent="Intro_CS"]
y_sort_enabled = true
position = Vector2(77, 132)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Intro_CS/Player Actor"]
z_index = 1
position = Vector2(0, 8)
rotation = 1.5708
shape = SubResource("CapsuleShape2D_onrkg")
one_way_collision_margin = 0.0

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Intro_CS/Player Actor"]
position = Vector2(3, -12)
sprite_frames = ExtResource("26_4sjt4")
animation = &"Thrown"

[connection signal="pressed" from="CanvasLayer/InventoryButton" to="CanvasLayer/InventoryButton" method="_on_pressed"]
